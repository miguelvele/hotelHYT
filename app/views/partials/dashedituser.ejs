<div class="content-wrapper">

    <section class="content-header">
        <h1>
            Modificar usuarios

        </h1>
        <ol class="breadcrumb">
            <li><a href="#"><i class="fa fa-dashboard"></i> Home</a></li>
            <li><a href="#">Examples</a></li>
            <li class="active">Blank page</li>
        </ol>
    </section>
    <section class="content">

        <!-- Default box -->
        <div class="box">
            <div class="box-header with-border">
                <div class="box-tools pull-right">
                    <button type="button" class="btn btn-box-tool" data-widget="collapse" data-toggle="tooltip"
                        title="Collapse">
                        <i class="fa fa-minus"></i></button>
                    <button type="button" class="btn btn-box-tool" data-widget="remove" data-toggle="tooltip"
                        title="Remove">
                        <i class="fa fa-times"></i></button>
                </div>
            </div>
            <div class="box-body">
                <form action="edituser" id="formulario" method="put">

                    <div class="form-group">
                        <label>ID</label>
                        <input type="text" class="form-control" readonly value="<%= datos.id %>" name="id">
                   
                    </div>
                    
                    
                    <label>Tipo de usuario</label>
                        <input type="text" class="form-control"  value="<%= datos.codigo_tipo_usuario %>" name="codigo_tipo_usuario">
                    
                    <div class="form-group">
                        <label>Tipo de Documento</label>
                        <input type="text" class="form-control"  value="<%= datos.tipo_documento %>" name="tipo_documento">
                    </div>
                    <div class="form-group">
                        <label>Documento</label>
                        <input type="text" class="form-control"  value="<%= datos.documento %>" name="documento">
                    </div>
                    <div class="form-group">
                        <label>Nombre</label>
                        <input type="text" class="form-control"  value="<%= datos.nombre %>" name="nombre">
                    </div>
                    <div class="form-group">
                        <label>Apellido</label>
                        <input type="text" class="form-control"  value="<%= datos.apellido %>" name="apellido">
                    </div>
                    <div class="form-group">
                        <label>Correo</label>
                        <input type="text" class="form-control"  value="<%= datos.correo %>" name="correo">
                    </div>
                    <div class="form-group">
                        <label>Clave</label>
                        <input type="text" class="form-control"  value="<%= datos.clave %>" name="clave">
                    </div>
                    <div class="form-group">
                        <label>Estado</label>
                        <input type="text" class="form-control"  value="<%= datos.estado %>" name="estado">
                    
                    </div>
                    <div class="form-group">
                        <label>Fecha de creacion</label>
                        <input type="text" class="form-control" value="<% const fechaCreacion=new Date(datos.fecha_creacion); %>
                        <%= fechaCreacion.toISOString().split('T')[0] %>" name="fecha_creacion">
                    </div>
                    <div class="box-footer">
                        <button class="btn btn-warning" type="submit" >Guardar
                            <i class="fa fa-save "></i>
                        </button>
                        <button class="btn btn-danger">
                            <i class="fa fa-times"></i>
                            Cancelar
                        </button>
                    </div>
                </form>

            </div>


        </div>
        <!-- /.box -->

    </section>


</div>
<script>
    function formatearFecha(fecha) {
        const fechaObj = new Date(fecha);
        const year = fechaObj.getFullYear();
        const month = ('0' + (fechaObj.getMonth() + 1)).slice(-2);
        const day = ('0' + fechaObj.getDate()).slice(-2);
        
        return `${year}-${month}-${day}`;
    }
</script>

<script>
    function confirmar() {
        const formu = document.querySelector("#formulario");
        formu.addEventListener("submit", (event) => {
            
            event.preventDefault();
            Swal.fire({
                title: 'guardar cambios?',
                text: "modificaras este usuario!",
                icon: 'question',
                showCancelButton: true,
                confirmButtonColor: '#3085d6',
                cancelButtonColor: '#d33',
                confirmButtonText: 'SI!'
            }).then((result) => {
                if (result.isConfirmed) {
                    formu.submit();
                    Swal.fire(
                        'Modificado!',
                        'ya se modifico mi bro.',
                        'success'
                    )
                }
            })
        })

    }
</script>